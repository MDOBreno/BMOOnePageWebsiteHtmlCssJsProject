<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <button onclick = "document.body.innerHTML = runMyJavaScript();" > TesteJS muda Body</button>
        <br />
        <button onclick = "runMyJavaScript()" > TesteJS Debug</button>
        <br />
        <textarea name="" rows="2" cols="20" id="myClipboardInput" class="textbox" style="margin: 0px;width: 1260px;height: 103px;">"Área de Transferência"</textarea>
        
    </head>
<body style="background-color: rgb(53,64,74);">
    <script>
            function runMyJavaScript(debugando, rodrigoTeste, minhaTeste, saidaEsperadaTeste) {

                var rodrigoCarteria = document.getElementById("myClipboardInput").textContent.split("\n").join(" ");
                var minhaCarteria = "Arquivo";


                
                if(debugando) {
                    rodrigoCarteria = rodrigoTeste;
                    minhaCarteria = minhaTeste;
                }

                // Obter todos os links da página
                var array = rodrigoCarteria.split(" ");
                var arrayMeu = minhaCarteria.split(" ");

                // initialize arraysRodrigo
                var arrFundo = [];
                var arrRepresentatividade = [];
                var arrStatus = [];
                // append new value to the arraysRodrigo


                for (let element of array) {
                    if (element.endsWith("11") && element.length == 6) {
                        arrFundo.push(element);
                        //console.log(element);
                    } else if (element == "Compra" || element == "Venda" || element == "Manutenção") {
                        if (element == "Manutenção") {
                            arrStatus.push("Manutencao");
                        } else {
                            arrStatus.push(element);
                        }
                        //console.log(element);
                    } else if (element.endsWith("%") && element.length <= 6) {
                        arrRepresentatividade.push(element);
                    }
                }
                var arr = [];
                var montadorDeLinha = "";
                for (var i = 0; i < arrFundo.length; i++) {
                    montadorDeLinha += arrFundo[i];
                    montadorDeLinha += ";";
                    montadorDeLinha += arrStatus[i];
                    montadorDeLinha += ";";
                    montadorDeLinha += arrRepresentatividade[i].replace(",", ".");
                    arr.push(montadorDeLinha);
                    montadorDeLinha = "";
                }
                var arrayRodrigo = arr.sort();


                if (arrayMeu.length != 0) {
                    //Verificacao se sao identicas
                    var carteirasSaoIdenticas = false;
                    if ((arrayRodrigo.length) == (arrayMeu.length)) { //carteirasSaoMesmoTamanho
                        carteirasSaoIdenticas = true;
                        for (var i = 0; i < arrayRodrigo.length; i++) {
                            if ((arrayRodrigo[i].split(";")[0]) != arrayMeu[i]) {
                                carteirasSaoIdenticas = false;
                                break;
                            }
                        }
                    }

                    //Criacao de array comparativo com as duas carteiras
                    var arrayComAsDuasCarteiras = [];
                    if (!carteirasSaoIdenticas) {
                        var montadorDeLinha = "";

                        var tempArrayRodrigo = [];
                        for (var i = 0; i < arrayRodrigo.length; i++) {
                            tempArrayRodrigo.push((arrayRodrigo[i].split(";")[0]));
                        }

                        //Criando arrayComTodosOsFiisOrdenados para ordenacao no final
                        var arrayComTodosOsFiisOrdenados = [];
                        for (var i = 0; i < arrayMeu.length; i++) {
                            arrayComTodosOsFiisOrdenados.push(arrayMeu[i]);
                        }
                        for (var i = 0; i < tempArrayRodrigo.length; i++) {
                            var esseFiiFoiCompradoPelaPrimeiraVez = true;
                            for (var j = 0; j < arrayComTodosOsFiisOrdenados.length; j++) {
                                if (tempArrayRodrigo[i] == arrayComTodosOsFiisOrdenados[j]) {
                                    esseFiiFoiCompradoPelaPrimeiraVez = false;
                                    break;
                                }
                            }
                            if (esseFiiFoiCompradoPelaPrimeiraVez) {
                                arrayComTodosOsFiisOrdenados.push((tempArrayRodrigo[i]));
                            }
                        }
                        arrayComTodosOsFiisOrdenados = arrayComTodosOsFiisOrdenados.sort();



                        var esseFiiEstaNaRodrigoCarteira = false;
                        var esseFiiEstaNaMinhaCarteira = false;
                        var fiiNaRodrigoCarteiraAtual = "";
                        for (var i = 0; i < arrayComTodosOsFiisOrdenados.length; i++) {

                            //Verifica de o arrayComTodosOsFiisOrdenados[i] esta na arrayRodrigo
                            for (var j = 0; j < tempArrayRodrigo.length; j++) {
                                if (arrayComTodosOsFiisOrdenados[i] == tempArrayRodrigo[j]) {
                                    esseFiiEstaNaRodrigoCarteira = true;
                                    fiiNaRodrigoCarteiraAtual = arrayRodrigo[j];
                                    break;
                                }
                            }
                            //Verifica de o arrayComTodosOsFiisOrdenados[i] esta na arrayRodrigo
                            for (var j = 0; j < arrayMeu.length; j++) {
                                if (arrayComTodosOsFiisOrdenados[i] == arrayMeu[j]) {
                                    esseFiiEstaNaMinhaCarteira = true;
                                    break;
                                }
                            }

                            if (esseFiiEstaNaMinhaCarteira && esseFiiEstaNaRodrigoCarteira) {
                                montadorDeLinha += arrayComTodosOsFiisOrdenados[i];
                                montadorDeLinha += ";";
                                montadorDeLinha += fiiNaRodrigoCarteiraAtual;
                                arrayComAsDuasCarteiras.push(montadorDeLinha);
                                montadorDeLinha = "";
                            } else if(esseFiiEstaNaRodrigoCarteira) {
                                montadorDeLinha += "(-)";
                                montadorDeLinha += ";";
                                montadorDeLinha += fiiNaRodrigoCarteiraAtual;
                                arrayComAsDuasCarteiras.push(montadorDeLinha);
                                montadorDeLinha = "";
                            } else {
                                montadorDeLinha += arrayComTodosOsFiisOrdenados[i];
                                montadorDeLinha += ";";
                                montadorDeLinha += "(-)";
                                montadorDeLinha += ";";
                                montadorDeLinha += "Venda";
                                montadorDeLinha += ";";
                                montadorDeLinha += "0.00%";
                                arrayComAsDuasCarteiras.push(montadorDeLinha);
                                montadorDeLinha = "";
                            }

                            //Reseta valores para a proxima iteracao
                            esseFiiEstaNaRodrigoCarteira = false;
                            esseFiiEstaNaMinhaCarteira = false;
                            fiiNaRodrigoCarteiraAtual = "";
                        }

                        arrayRodrigo = arrayComAsDuasCarteiras;

                    } else {
                        montadorDeLinha += "CARTEIRAS";
                        montadorDeLinha += ";";
                        montadorDeLinha += "IGUAIS";
                        montadorDeLinha += ";";
                        montadorDeLinha += "(-)";
                        montadorDeLinha += ";";
                        montadorDeLinha += "(-)";
                        arrayComAsDuasCarteiras.push(montadorDeLinha);
                        montadorDeLinha = "";
                        for (var i = 0; i < arrayRodrigo.length; i++) {
                            montadorDeLinha += arrayMeu[i];
                            montadorDeLinha += ";";
                            montadorDeLinha += arrayRodrigo[i];
                            arrayComAsDuasCarteiras.push(montadorDeLinha);
                            montadorDeLinha = "";
                        }
                        arrayRodrigo = arrayComAsDuasCarteiras;
                    }
                }


                //console.log(arrayRodrigo.join("\r\n"));
                if (debugando) {
                    if (saidaEsperadaTeste == (arrayRodrigo.join(" "))) {
                        return "SUCESSO";
                    } else {
                        return (arrayRodrigo.join(" "));
                    }
                } else {
                    return (arrayRodrigo.join("<br />"));
                }
            }


            
            
            if (true) { //Testes Unitarios
                var rodrigoCarteria = "";
                var minhaCarteria = "";
                var saidaEsperada = "";
                var resultadoDesseTeste = "";
                var avisarSucessoParaCadaTeste = false;
                var sucessoEmTodosOsTestes = true;


                //carteirasSaoMesmoTamanho e carteirasSaoIdenticas
                // OK Cenario 
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "CARTEIRAS;IGUAIS;(-);(-) AFHI11;AFHI11;Manutencao;2.31% BARI11;BARI11;Compra;3.07% BLMR11;BLMR11;Compra;3.68% BROF11;BROF11;Manutencao;3.43% BTLG11;BTLG11;Compra;3.47% FIGS11;FIGS11;Compra;3.39% FIIB11;FIIB11;Compra;3.62% GALG11;GALG11;Compra;3.16% HGBS11;HGBS11;Compra;3.57% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;6.07% HGRU11;HGRU11;Compra;2.72% HLOG11;HLOG11;Compra;5.10% HSAF11;HSAF11;Compra;4.28% JSRE11;JSRE11;Manutencao;2.77% KCRE11;KCRE11;Compra;3.10% LGCP11;LGCP11;Compra;3.63% LVBI11;LVBI11;Compra;4.70% MALL11;MALL11;Compra;3.46% PLCR11;PLCR11;Compra;3.63% PQDP11;PQDP11;Compra;4.57% RBRL11;RBRL11;Compra;4.15% RFOF11;RFOF11;Compra;5.02% TRXF11;TRXF11;Compra;5.45% WHGR11;WHGR11;Compra;6.46% XPIN11;XPIN11;Manutencao;1.61%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("carteirasSaoMesmoTamanho e carteirasSaoIdenticas");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }

                //carteirasSaoMesmoTamanho e !carteirasSaoIdenticas
                // OK Cenario  umParDeFiisDiferentes[BLMR11!=BREN11]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BREN11 BROF11 BTLG11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% BARI11;BARI11;Compra;3.07% (-);BLMR11;Compra;3.68% BREN11;(-);Venda;0.00% BROF11;BROF11;Manutencao;3.43% BTLG11;BTLG11;Compra;3.47% FIIB11;FIIB11;Compra;3.39% GALG11;GALG11;Compra;3.62% HGBS11;HGBS11;Compra;3.16% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;3.57% HGRU11;HGRU11;Compra;6.07% HLOG11;HLOG11;Compra;2.72% HSAF11;HSAF11;Compra;5.10% JSRE11;JSRE11;Compra;4.28% KCRE11;KCRE11;Manutencao;2.77% LGCP11;LGCP11;Compra;3.10% LVBI11;LVBI11;Compra;3.63% MALL11;MALL11;Compra;4.70% PLCR11;PLCR11;Compra;3.46% PQDP11;PQDP11;Compra;3.63% RBRL11;RBRL11;Compra;4.57% RFOF11;RFOF11;Compra;4.15% TRXF11;TRXF11;Compra;5.02% WHGR11;WHGR11;Compra;5.45% XPIN11;XPIN11;Compra;6.46%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("carteirasSaoMesmoTamanho e !carteirasSaoIdenticas");
                    console.log("umParDeFiisDiferentes[BLMR11!=BREN11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                //idem
                // OK Cenario  doisFiisNaoPareadosSequenciaisRodrigoPrimeiro[BREN11!=BTLG11]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BREN11 BROF11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% BARI11;BARI11;Compra;3.07% BLMR11;BLMR11;Compra;3.68% (-);BREN11;Manutencao;3.43% BROF11;BROF11;Compra;3.47% BTLG11;(-);Venda;0.00% FIIB11;FIIB11;Compra;3.39% GALG11;GALG11;Compra;3.62% HGBS11;HGBS11;Compra;3.16% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;3.57% HGRU11;HGRU11;Compra;6.07% HLOG11;HLOG11;Compra;2.72% HSAF11;HSAF11;Compra;5.10% JSRE11;JSRE11;Compra;4.28% KCRE11;KCRE11;Manutencao;2.77% LGCP11;LGCP11;Compra;3.10% LVBI11;LVBI11;Compra;3.63% MALL11;MALL11;Compra;4.70% PLCR11;PLCR11;Compra;3.46% PQDP11;PQDP11;Compra;3.63% RBRL11;RBRL11;Compra;4.57% RFOF11;RFOF11;Compra;4.15% TRXF11;TRXF11;Compra;5.02% WHGR11;WHGR11;Compra;5.45% XPIN11;XPIN11;Compra;6.46%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("doisFiisNaoPareadosSequenciaisRodrigoPrimeiro[BREN11!=BTLG11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                // OK Cenario  doisFiisNaoPareadosSequenciaisEuPrimeiro[BREN11!=BTLG11]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BLMR11 BREN11 BROF11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% BARI11;BARI11;Compra;3.07% BLMR11;BLMR11;Compra;3.68% BREN11;(-);Venda;0.00% BROF11;BROF11;Manutencao;3.43% (-);BTLG11;Compra;3.47% FIIB11;FIIB11;Compra;3.39% GALG11;GALG11;Compra;3.62% HGBS11;HGBS11;Compra;3.16% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;3.57% HGRU11;HGRU11;Compra;6.07% HLOG11;HLOG11;Compra;2.72% HSAF11;HSAF11;Compra;5.10% JSRE11;JSRE11;Compra;4.28% KCRE11;KCRE11;Manutencao;2.77% LGCP11;LGCP11;Compra;3.10% LVBI11;LVBI11;Compra;3.63% MALL11;MALL11;Compra;4.70% PLCR11;PLCR11;Compra;3.46% PQDP11;PQDP11;Compra;3.63% RBRL11;RBRL11;Compra;4.57% RFOF11;RFOF11;Compra;4.15% TRXF11;TRXF11;Compra;5.02% WHGR11;WHGR11;Compra;5.45% XPIN11;XPIN11;Compra;6.46%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("doisFiisNaoPareadosSequenciaisEuPrimeiro[BREN11!=BTLG11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                //idem
                // OK Cenario  e doisParesDeFiisDiferentes[BLMR11!=BRE111]e[BROF11!=BRE211]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BRE111 BRE211 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% BARI11;BARI11;Compra;3.07% (-);BLMR11;Compra;3.68% BRE111;(-);Venda;0.00% BRE211;(-);Venda;0.00% (-);BROF11;Manutencao;3.43% FIIB11;FIIB11;Compra;3.47% GALG11;GALG11;Compra;3.39% HGBS11;HGBS11;Compra;3.62% HGFF11;HGFF11;Compra;3.16% HGRE11;HGRE11;Compra;3.57% HGRU11;HGRU11;Compra;3.57% HLOG11;HLOG11;Compra;6.07% HSAF11;HSAF11;Compra;2.72% JSRE11;JSRE11;Compra;5.10% KCRE11;KCRE11;Compra;4.28% LGCP11;LGCP11;Manutencao;2.77% LVBI11;LVBI11;Compra;3.10% MALL11;MALL11;Compra;3.63% PLCR11;PLCR11;Compra;4.70% PQDP11;PQDP11;Compra;3.46% RBRL11;RBRL11;Compra;3.63% RFOF11;RFOF11;Compra;4.57% TRXF11;TRXF11;Compra;4.15% WHGR11;WHGR11;Compra;5.02% XPIN11;XPIN11;Compra;5.45%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("doisParesDeFiisDiferentes[BLMR11!=BRE111]e[BROF11!=BRE211]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }


                //!carteirasSaoMesmoTamanho logo !carteirasSaoIdenticas
                // OK Cenario  e rodrigoCarteriaTemFundosAMais>0 umFiiEntrando[BARI11]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% (-);BARI11;Compra;3.07% BLMR11;BLMR11;Compra;3.68% BROF11;BROF11;Manutencao;3.43% BTLG11;BTLG11;Compra;3.47% FIGS11;FIGS11;Compra;3.39% FIIB11;FIIB11;Compra;3.62% GALG11;GALG11;Compra;3.16% HGBS11;HGBS11;Compra;3.57% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;6.07% HGRU11;HGRU11;Compra;2.72% HLOG11;HLOG11;Compra;5.10% HSAF11;HSAF11;Compra;4.28% JSRE11;JSRE11;Manutencao;2.77% KCRE11;KCRE11;Compra;3.10% LGCP11;LGCP11;Compra;3.63% LVBI11;LVBI11;Compra;4.70% MALL11;MALL11;Compra;3.46% PLCR11;PLCR11;Compra;3.63% PQDP11;PQDP11;Compra;4.57% RBRL11;RBRL11;Compra;4.15% RFOF11;RFOF11;Compra;5.02% TRXF11;TRXF11;Compra;5.45% WHGR11;WHGR11;Compra;6.46% XPIN11;XPIN11;Manutencao;1.61%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("!carteirasSaoMesmoTamanho logo !carteirasSaoIdenticas");
                    console.log("rodrigoCarteriaTemFundosAMais>0 umFiiEntrando[BARI11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                //idem
                // OK Cenario  e rodrigoCarteriaTemFundosAMais>0 e doisFiisConsecutivosEntrando[BARI11 e BLMR11]
                rodrigoCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 2,31% 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Manutenção Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Manutencao;2.31% (-);BARI11;Compra;3.07% (-);BLMR11;Compra;3.68% BROF11;BROF11;Manutencao;3.43% BTLG11;BTLG11;Compra;3.47% FIGS11;FIGS11;Compra;3.39% FIIB11;FIIB11;Compra;3.62% GALG11;GALG11;Compra;3.16% HGBS11;HGBS11;Compra;3.57% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;6.07% HGRU11;HGRU11;Compra;2.72% HLOG11;HLOG11;Compra;5.10% HSAF11;HSAF11;Compra;4.28% JSRE11;JSRE11;Manutencao;2.77% KCRE11;KCRE11;Compra;3.10% LGCP11;LGCP11;Compra;3.63% LVBI11;LVBI11;Compra;4.70% MALL11;MALL11;Compra;3.46% PLCR11;PLCR11;Compra;3.63% PQDP11;PQDP11;Compra;4.57% RBRL11;RBRL11;Compra;4.15% RFOF11;RFOF11;Compra;5.02% TRXF11;TRXF11;Compra;5.45% WHGR11;WHGR11;Compra;6.46% XPIN11;XPIN11;Manutencao;1.61%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("rodrigoCarteriaTemFundosAMais>0 e doisFiisConsecutivosEntrando[BARI11 e BLMR11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                //idem
                // OK Cenario  e rodrigoCarteriaTemFundosAMais<0 umFiiSaindo[BARI11]
                rodrigoCarteria = "AFHI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Compra;3.07% BARI11;(-);Venda;0.00% BLMR11;BLMR11;Compra;3.68% BROF11;BROF11;Manutencao;3.43% BTLG11;BTLG11;Compra;3.47% FIGS11;FIGS11;Compra;3.39% FIIB11;FIIB11;Compra;3.62% GALG11;GALG11;Compra;3.16% HGBS11;HGBS11;Compra;3.57% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;6.07% HGRU11;HGRU11;Compra;2.72% HLOG11;HLOG11;Compra;5.10% HSAF11;HSAF11;Compra;4.28% JSRE11;JSRE11;Manutencao;2.77% KCRE11;KCRE11;Compra;3.10% LGCP11;LGCP11;Compra;3.63% LVBI11;LVBI11;Compra;4.70% MALL11;MALL11;Compra;3.46% PLCR11;PLCR11;Compra;3.63% PQDP11;PQDP11;Compra;4.57% RBRL11;RBRL11;Compra;4.15% RFOF11;RFOF11;Compra;5.02% TRXF11;TRXF11;Compra;5.45% WHGR11;WHGR11;Compra;6.46% XPIN11;XPIN11;Manutencao;1.61%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("rodrigoCarteriaTemFundosAMais<0 umFiiSaindo[BARI11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }
                //idem
                // OK Cenario  e rodrigoCarteriaTemFundosAMais<0 e doisFiisConsecutivosSaindo[BARI11 e BLMR11]
                rodrigoCarteria = "AFHI11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11 3,07% 3,68% 3,43% 3,47% 3,39% 3,62% 3,16% 3,57% 3,57% 6,07% 2,72% 5,10% 4,28% 2,77% 3,10% 3,63% 4,70% 3,46% 3,63% 4,57% 4,15% 5,02% 5,45% 6,46% 1,61% Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção Compra Compra Compra Compra Compra Compra Compra Compra Compra Compra Manutenção";
                minhaCarteria = "AFHI11 BARI11 BLMR11 BROF11 BTLG11 FIGS11 FIIB11 GALG11 HGBS11 HGFF11 HGRE11 HGRU11 HLOG11 HSAF11 JSRE11 KCRE11 LGCP11 LVBI11 MALL11 PLCR11 PQDP11 RBRL11 RFOF11 TRXF11 WHGR11 XPIN11";
                saidaEsperada = "AFHI11;AFHI11;Compra;3.07% BARI11;(-);Venda;0.00% BLMR11;(-);Venda;0.00% BROF11;BROF11;Compra;3.68% BTLG11;BTLG11;Manutencao;3.43% FIGS11;FIGS11;Compra;3.47% FIIB11;FIIB11;Compra;3.39% GALG11;GALG11;Compra;3.62% HGBS11;HGBS11;Compra;3.16% HGFF11;HGFF11;Compra;3.57% HGRE11;HGRE11;Compra;3.57% HGRU11;HGRU11;Compra;6.07% HLOG11;HLOG11;Compra;2.72% HSAF11;HSAF11;Compra;5.10% JSRE11;JSRE11;Compra;4.28% KCRE11;KCRE11;Manutencao;2.77% LGCP11;LGCP11;Compra;3.10% LVBI11;LVBI11;Compra;3.63% MALL11;MALL11;Compra;4.70% PLCR11;PLCR11;Compra;3.46% PQDP11;PQDP11;Compra;3.63% RBRL11;RBRL11;Compra;4.57% RFOF11;RFOF11;Compra;4.15% TRXF11;TRXF11;Compra;5.02% WHGR11;WHGR11;Compra;5.45% XPIN11;XPIN11;Compra;6.46%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("rodrigoCarteriaTemFundosAMais<0 e doisFiisConsecutivosSaindo[BARI11 e BLMR11]");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }


                //Cenario Doido
                // [BUG printa ARQ111 e ARQ211 e um monte de BARI11] 
                rodrigoCarteria = "2,32% Manutenção 3,03% Compra 3,51% Compra 3,60% Compra 3,42% Compra 3,30% Compra 3,60% Compra 3,05% Compra 3,60% Compra 3,65% Compra 5,92% Compra 2,60% Compra 4,95% Compra 3,96% Manutenção 2,63% Manutenção 4,46% Compra 3,60% Compra 4,47% Compra 3,39% Compra 3,58% Compra 4,33% Compra 4,31% Compra 5,24% Compra 5,26% Compra 6,57% Compra 1,67% Manutenção 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 10/11/20 21/5/23 22/08/21 16/08/20 25/09/22 19/01/20 12/04/20 23/08/20 21/12/20 08/08/21 24/04/21 20/02/22 14/08/22 06/06/21 19/01/20 20/12/20 08/01/23 23/04/23 01/05/23 19/01/20 05/07/20 19/01/20 14/5/23 24/7/22 19/01/20 LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK LINK HGRE11 JSRE11 BROF11 BLMR11 RFOF11 HGFF11 FIIB11 XPIN11 BTLG11 HLOG11 LVBI11 GALG11 RBRL11 LGCP11 AFHI11 BARI11 PLCR11 KCRE11 HSAF11 WHGR11 HGRU11 TRXF11 FIGS11 MALL11 HGBS11 PQDP11";
                minhaCarteria = "ARQ111 ARQ211";
                saidaEsperada = "(-);AFHI11;Manutencao;2.63% ARQ111;(-);Venda;0.00% ARQ211;(-);Venda;0.00% (-);BARI11;Compra;4.46% (-);BLMR11;Compra;3.60% (-);BROF11;Compra;3.51% (-);BTLG11;Compra;3.60% (-);FIGS11;Compra;5.24% (-);FIIB11;Compra;3.60% (-);GALG11;Compra;2.60% (-);HGBS11;Compra;6.57% (-);HGFF11;Compra;3.30% (-);HGRE11;Manutencao;2.32% (-);HGRU11;Compra;4.33% (-);HLOG11;Compra;3.65% (-);HSAF11;Compra;3.39% (-);JSRE11;Compra;3.03% (-);KCRE11;Compra;4.47% (-);LGCP11;Manutencao;3.96% (-);LVBI11;Compra;5.92% (-);MALL11;Compra;5.26% (-);PLCR11;Compra;3.60% (-);PQDP11;Manutencao;1.67% (-);RBRL11;Compra;4.95% (-);RFOF11;Compra;3.42% (-);TRXF11;Compra;4.31% (-);WHGR11;Compra;3.58% (-);XPIN11;Compra;3.05%";
                resultadoDesseTeste = runMyJavaScript(true, rodrigoCarteria, minhaCarteria, saidaEsperada);
                if (avisarSucessoParaCadaTeste) {
                    console.log("Cenario Doido");
                    console.log("[BUG printa ARQ111 e ARQ211 e um monte de BARI11] ");
                    if (resultadoDesseTeste == "SUCESSO") {
                        console.log("    SUCESSO Unitario");
                    } else {
                        console.log("    Falha Unitaria");
                        console.log(resultadoDesseTeste);
                    }
                }
                if (resultadoDesseTeste != "SUCESSO") {
                    sucessoEmTodosOsTestes = false;
                }


                // //carteirasSaoMesmoTamanho e !carteirasSaoIdenticas
                //  doisParesDeFiisUmSequencialOutroPareadoRodrigoPrimeiro
                //  doisParesDeFiisUmSequencialOutroPareadoEuPrimeiro
                //  doisFiisNaoPareadosEntrelecadosSequenciaisRodrigoPrimeiro
                //  doisFiisNaoPareadosEntrelecadosSequenciaisEuPrimeiro

                //  //Geral
                //      doisFiisNaoPareadosNaoSequenciaisRodrigoPrimeiro
                //      doisFiisNaoPareadosNaoSequenciaisEuPrimeiro

                // //!carteirasSaoMesmoTamanho logo !carteirasSaoIdenticas
                //  umParEntrandoEUmFiiSaindoConsecutivosRodrigoPrimeiro
                //  umParEntrandoEUmFiiSaindoConsecutivosEuPrimeiro
                //  umFiiEntrandoEUmParSaindoConsecutivosRodrigoPrimeiro
                //  umFiiEntrandoEUmParSaindoConsecutivosEuPrimeiro

                //  umFiiEntrandoEUmSaindoEUmEntrandoConsecutivosRodrigoPrimeiro
                //  umFiiEntrandoEUmSaindoEUmEntrandoConsecutivosEuPrimeiro
                //  umFiiEntrandoEUmSaindoEEspacoEUmEntrandoRodrigoPrimeiro
                //  umFiiEntrandoEUmSaindoEEspacoEUmEntrandoEuPrimeiro
                //  umFiiEntrandoEUmSaindoEEspacoEUmEntrandoRodrigoPrimeiro
                //  umFiiEntrandoEEspacoEUmSaindoEUmEntrandoRodrigoPrimeiro
                //  umFiiEntrandoEEspacoEUmSaindoEUmEntrandoEuPrimeiro

                //  //  Geral
                //      umFiiEntrandoEEspacoEUmSaindoEEspacoEUmEntrandoRodrigoPrimeiro
                //      umFiiEntrandoEEspacoEUmSaindoEEspacoEUmEntrandoEuPrimeiro

                if (sucessoEmTodosOsTestes) {
                    console.log("---------- SUCESSO EM TODOS OS TESTES ----------");
                } else {
                    console.log("---------- FALHA em Algum(s) Teste(s) ----------");
                }
            }
            
            

            document.body.innerHTML = runMyJavaScript(false, "", "", "");
                
        </script>
    </body>
</html>